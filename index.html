<!DOCTYPE html>
<html lang="ur">
<head>
  <meta charset="UTF-8">
  <title>درود ابراہیمی</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body>
  <button onclick="generatePDF()">📄 PDF بنائیں</button>
  <p id="status" style="font-weight:bold; color:green;"></p>

  <script>
    const { jsPDF } = window.jspdf;

    // 🎨 Random color function
    function randomColor() {
      return [
        Math.floor(Math.random() * 200), 
        Math.floor(Math.random() * 200), 
        Math.floor(Math.random() * 200)
      ];
    }

    function generatePDF() {
      const doc = new jsPDF("p", "mm", "a4");
      let y = 20;
      let page = 1;

      const statusEl = document.getElementById("status");

      // ✅ مکمل درود ابراہیمی
      const darood = "اللّٰهُمَّ صَلِّ عَلٰی مُحَمَّدٍ وَعَلٰی اٰلِ مُحَمَّدٍ، كَمَا صَلَّيْتَ عَلٰی إِبْرَاهِيمَ وَعَلٰی اٰلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيْدٌ مَّجِيْدٌ۔ اللّٰهُمَّ بَارِكْ عَلٰی مُحَمَّدٍ وَعَلٰی اٰلِ مُحَمَّدٍ، كَمَا بَارَكْتَ عَلٰی إِبْرَاهِيمَ وَعَلٰی اٰلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيْدٌ مَّجِيْدٌ۔";

      const repeatCount = 200; // ← آپ 1000 یا 5000 بھی کر سکتے ہیں

      for (let i = 0; i < repeatCount; i++) {
        if (y > 270) {  // نئی پیج کی جگہ
          doc.addPage();
          page++;
          y = 20;
        }

        const [r,g,b] = randomColor();
        doc.setTextColor(r,g,b);
        doc.setFontSize(10);

        const wrapped = doc.splitTextToSize((i+1) + ". " + darood, 180);
        doc.text(wrapped, 15, y);

        y += wrapped.length * 6; // اگلی لائن کا فاصلہ
      }

      statusEl.innerText = `✅ ${repeatCount} مرتبہ درود لکھ کر PDF تیار ہوگیا`;
      doc.save("Drood-Ibrahimi.pdf");
    }
  </script>
</body>
</html>
