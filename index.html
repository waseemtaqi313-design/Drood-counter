<!DOCTYPE html>
<html lang="ur">
<head>
  <meta charset="UTF-8">
  <title>Ø¯Ø±ÙˆØ¯Ù Ø§Ø¨Ø±Ø§ÛÛŒÙ…ÛŒ Ú©Ø§Ø¤Ù†Ù¹Ø±</title>
  <style>
    body { font-family: Arial; text-align: center; background: #f9f9f9; }
    h1 { color: green; }
    #sessionCounter, #totalCounter { font-size: 26px; font-weight: bold; margin: 10px; color: darkgreen; }
    #daroodList { 
      margin-top: 20px; 
      max-height: 400px; 
      overflow-y: auto; 
      direction: rtl; 
    }
    .daroodItem { 
      font-size: 14px; 
      margin: 5px; 
      padding: 5px; 
      border-bottom: 1px dashed #aaa; 
      color: maroon; 
      line-height: 1.8;
      white-space: pre-wrap;
    }
    .btn {
      margin: 10px;
      padding: 8px 15px;
      font-size: 17px;
      background: darkblue;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }
    #resetBtn { background: crimson; }
    #addBtn { background: darkgreen; }
  </style>
</head>
<body>

  <h1>ğŸŒ¹ Ø¯Ø±ÙˆØ¯Ù Ø§Ø¨Ø±Ø§ÛÛŒÙ…ÛŒ Ú©Ø§Ø¤Ù†Ù¹Ø± ğŸŒ¹</h1>

  <div id="totalCounter">Ú©Ù„ Ø¹Ø¯Ø¯: 0</div>
  <div id="sessionCounter">Ø§Ø³ Ø³ÛŒØ´Ù† Ù…ÛŒÚº: 0</div>

  <button id="addBtn" class="btn">â• Ø§ÛŒÚ© Ø¯Ø±ÙˆØ¯ Ø´Ø§Ù…Ù„ Ú©Ø±ÛŒÚº</button>
  <button id="resetBtn" class="btn">ğŸ”„ Ø³ÛŒØ´Ù† Reset</button>

  <div id="daroodList"></div>

  <script>
    // ÛÙ…ÛŒØ´Û Ú†Ù„Ù†Û’ ÙˆØ§Ù„Ø§ â†’ Ú©Ø¨Ú¾ÛŒ ØµÙØ± Ù†Û ÛÙˆ
    let totalCount = localStorage.getItem("totalDaroodCount") 
                     ? parseInt(localStorage.getItem("totalDaroodCount")) 
                     : 0;

    // Ù†ÛŒØ§ Ø³ÛŒØ´Ù† ÙˆØ§Ù„Ø§ â†’ Ø±ÛŒ Ø³ÛŒÙ¹ ÛÙˆ Ø³Ú©ØªØ§ ÛÛ’
    let sessionCount = localStorage.getItem("sessionDaroodCount") 
                       ? parseInt(localStorage.getItem("sessionDaroodCount")) 
                       : 0;

    let daroodList = localStorage.getItem("daroodList") 
                     ? JSON.parse(localStorage.getItem("daroodList")) 
                     : [];

    const totalDiv = document.getElementById("totalCounter");
    const sessionDiv = document.getElementById("sessionCounter");
    const daroodDiv = document.getElementById("daroodList");

    totalDiv.innerText = "Ú©Ù„ Ø¹Ø¯Ø¯: " + totalCount;
    sessionDiv.innerText = "Ø§Ø³ Ø³ÛŒØ´Ù† Ù…ÛŒÚº: " + sessionCount;

    daroodList.forEach((d, i) => {
      const div = document.createElement("div");
      div.className = "daroodItem";
      div.innerText = (i+1) + ". " + d;
      daroodDiv.appendChild(div);
    });

    function addDarood() {
      totalCount++;
      sessionCount++;

      const text = "Ø§Ù„Ù„Ù‘ÙÙ‡ÙÙ…Ù‘Ù ØµÙÙ„Ù‘Ù Ø¹ÙÙ„ÙÙ‰Ù° Ù…ÙØ­ÙÙ…Ù‘ÙØ¯Ù ÙˆØ¹Ù„Ù‰ Ø§Ù„ Ù…Ø­Ù…Ø¯ ÙƒÙ…Ø§ ØµÙ„ÙŠØª Ø¹Ù„Ù‰ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ¹Ù„Ù‰ Ø§Ù„ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø§Ù†Ùƒ Ø­Ù…ÙŠØ¯ Ù…Ø¬ÙŠØ¯ Ø§Ù„Ù„Ù‡Ù… Ø¨Ø§Ø±Ùƒ Ø¹Ù„Ù‰ Ù…Ø­Ù…Ø¯ ÙˆØ¹Ù„Ù‰ Ø§Ù„ Ù…Ø­Ù…Ø¯ ÙƒÙ…Ø§ Ø¨Ø§Ø±ÙƒØª Ø¹Ù„Ù‰ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… ÙˆØ¹Ù„Ù‰ Ø§Ù„ Ø§Ø¨Ø±Ø§Ù‡ÙŠÙ… Ø¥ÙÙ†Ù‘ÙÙƒÙ Ø­ÙÙ…ÙÙŠØ¯ÙŒ Ù…ÙØ¬ÙÙŠØ¯ÙŒ";

      daroodList.push(text);

      totalDiv.innerText = "Ú©Ù„ Ø¹Ø¯Ø¯: " + totalCount;
      sessionDiv.innerText = "Ø§Ø³ Ø³ÛŒØ´Ù† Ù…ÛŒÚº: " + sessionCount;

      const div = document.createElement("div");
      div.className = "daroodItem";
      div.innerText = sessionCount + ". " + text;
      daroodDiv.appendChild(div);

      // ÛÙ…ÛŒØ´Û Ù…Ø­ÙÙˆØ¸
      localStorage.setItem("totalDaroodCount", totalCount);

      // Ø³ÛŒØ´Ù† Ù…Ø­ÙÙˆØ¸
      localStorage.setItem("sessionDaroodCount", sessionCount);

      // Ù„Ø³Ù¹ Ù…Ø­ÙÙˆØ¸
      if (sessionCount % 10 === 0) {
        localStorage.setItem("daroodList", JSON.stringify(daroodList));
      }
    }

    document.getElementById("addBtn").addEventListener("click", addDarood);

    // Reset â†’ ØµØ±Ù Ø³ÛŒØ´Ù† ÙˆØ§Ù„Ø§ Ø¬Ø§Ø¦Û’ Ú¯Ø§
    document.getElementById("resetBtn").addEventListener("click", function() {
      if (confirm("Ú©ÛŒØ§ Ø¢Ù¾ ÙˆØ§Ù‚Ø¹ÛŒ Ø³ÛŒØ´Ù† Ø±ÛŒ Ø³ÛŒÙ¹ Ú©Ø±Ù†Ø§ Ú†Ø§ÛØªÛ’ ÛÛŒÚºØŸ")) {
        sessionCount = 0;
        daroodList = [];
        localStorage.setItem("sessionDaroodCount", 0);
        localStorage.setItem("daroodList", JSON.stringify([]));
        sessionDiv.innerText = "Ø§Ø³ Ø³ÛŒØ´Ù† Ù…ÛŒÚº: 0";
        daroodDiv.innerHTML = "";
      }
    });

    // Auto Mode (0.5 Ø³ÛŒÚ©Ù†Úˆ)
    setInterval(addDarood, 500);
  </script>

</body>
</html>
