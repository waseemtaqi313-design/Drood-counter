// PDF ڈاؤنلوڈ
pdfBtn.addEventListener("click", function() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();

  let pageNumber = 1;

  // 🔹 Title Page with Border
  doc.setDrawColor(150, 75, 0); // براؤن کلر
  doc.setLineWidth(1.5);
  doc.rect(10, 10, 190, 277); // پورے صفحے کا بارڈر

  doc.setFont("Helvetica", "bold");
  doc.setFontSize(22);
  doc.text("🌹 درودِ ابراہیمی 🌹", 70, 50);

  doc.setFont("Helvetica", "normal");
  doc.setFontSize(14);
  doc.text("شروع اللہ کے نام سے جو بڑا مہربان نہایت رحم والا ہے", 25, 70);

  // نیچے لائن
  doc.setDrawColor(0, 100, 0); 
  doc.setLineWidth(0.8);
  doc.line(40, 80, 170, 80);

  // 🔹 پہلا درود بطور مثال
  const firstDarood = "اللّٰهُمَّ صَلِّ عَلٰى مُحَمَّدٍ وَعَلٰى آلِ مُحَمَّدٍ، كَمَا صَلَّيْتَ عَلٰى إِبْرَاهِيمَ وَعَلٰى آلِ إِبْرَاهِيمَ، إِنَّكَ حَمِيدٌ مَجِيدٌ";
  const wrappedDarood = doc.splitTextToSize(firstDarood, 170);

  doc.setFontSize(16);
  doc.text("مثال:", 20, 100);
  doc.setFontSize(14);
  doc.text(wrappedDarood, 20, 110);

  // 🔹 اردو ترجمہ
  const urduTranslation = "اے اللہ! رحمت نازل فرما محمد ﷺ اور آلِ محمد ﷺ پر، جیسے کہ تو نے رحمت نازل فرمائی ابراہیم علیہ السلام اور آلِ ابراہیم علیہ السلام پر۔ بے شک تو لائق حمد و بزرگی والا ہے۔";
  const wrappedTranslation = doc.splitTextToSize(urduTranslation, 170);

  doc.setFontSize(14);
  doc.text("ترجمہ:", 20, 135);
  doc.setFontSize(12);
  doc.text(wrappedTranslation, 20, 145);

  // 🔹 دعائیہ جملہ
  const dua = "یا اللہ! اس درود کو ہمارے لیے باعثِ رحمت، برکت اور نجات بنا۔ آمین۔";
  const wrappedDua = doc.splitTextToSize(dua, 170);

  doc.setFontSize(14);
  doc.text("دعا:", 20, 175);
  doc.setFontSize(12);
  doc.text(wrappedDua, 20, 185);

  // اگلا صفحہ
  doc.addPage();
  pageNumber++;

  // 🔹 Header/Footer فنکشن
  function addHeaderFooter() {
    doc.setFontSize(14);
    doc.text("🌹 درودِ ابراہیمی کاؤنٹر 🌹", 70, 10);
    doc.setFontSize(10);
    doc.text("صفحہ " + pageNumber, 180, 290);
    doc.setFontSize(12);
  }

  addHeaderFooter();

  // 🔹 باقی لسٹ
  let y = 30;
  daroodList.forEach((d, i) => {
    if(y > 270) { 
      doc.addPage(); 
      pageNumber++;
      addHeaderFooter();
      y = 30; 
    }
    const wrappedText = doc.splitTextToSize((i+1) + ". " + d, 180);
    doc.text(wrappedText, 10, y);
    y += (wrappedText.length * 8);
  });

  doc.save("Darood_List.pdf");
});
